<% if (theme.utterances.repo) { %>
<script type="text/javascript">
  Fluid.utils.loadComments('#comments', function() {
    var utterances_issue_number = location.pathname.split("/")[1];
    var light = '<%= theme.utterances.theme || 'github-light' %>';
    var dark = '<%= theme.utterances.theme_dark || 'github-dark' %>';
    var schema = document.documentElement.getAttribute('data-user-color-scheme');
    if (schema === 'dark') {
      schema = dark;
    } else {
      schema = light;
    }
    window.UtterancesThemeLight = light;
    window.UtterancesThemeDark = dark;
    var s = document.createElement('script');
    s.setAttribute('src', 'https://utteranc.es/client.js');
    s.setAttribute('repo', '<%= theme.utterances.repo %>');
    s.setAttribute('issue-number', utterances_issue_number);
    <% if (theme.utterances.label) { %>
    s.setAttribute('label', '<%= theme.utterances.label %>');
    <% } %>
    s.setAttribute('theme', schema);
    s.setAttribute('crossorigin', 'anonymous');
    document.getElementById('comments').appendChild(s);
  })
</script>
<noscript>Please enable JavaScript to view the comments</noscript>
<% } %>
